<!DOCTYPE html>
<html lang="de-DE">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>üìã Kapitel 4: Eine Merkliste erstellen | Front-End Foxes Workshops</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/curriculum/favicon.png">
    <meta name="description" content="Anf√§nger-Workshops f√ºr Web-Entwicklung">
    
    <link rel="preload" href="/curriculum/assets/css/0.styles.c2383ade.css" as="style"><link rel="preload" href="/curriculum/assets/js/app.56bf5687.js" as="script"><link rel="preload" href="/curriculum/assets/js/2.31700463.js" as="script"><link rel="preload" href="/curriculum/assets/js/1.e58b189b.js" as="script"><link rel="preload" href="/curriculum/assets/js/53.71730416.js" as="script"><link rel="prefetch" href="/curriculum/assets/js/10.745c23d7.js"><link rel="prefetch" href="/curriculum/assets/js/11.fddb7258.js"><link rel="prefetch" href="/curriculum/assets/js/12.7bb3c885.js"><link rel="prefetch" href="/curriculum/assets/js/13.16d2ed7b.js"><link rel="prefetch" href="/curriculum/assets/js/14.f2001be5.js"><link rel="prefetch" href="/curriculum/assets/js/15.b654a4b7.js"><link rel="prefetch" href="/curriculum/assets/js/16.6d53e8c9.js"><link rel="prefetch" href="/curriculum/assets/js/17.200838f4.js"><link rel="prefetch" href="/curriculum/assets/js/18.cb7ddc93.js"><link rel="prefetch" href="/curriculum/assets/js/19.b205dfbe.js"><link rel="prefetch" href="/curriculum/assets/js/20.e0ce5fdf.js"><link rel="prefetch" href="/curriculum/assets/js/21.07bf2bd2.js"><link rel="prefetch" href="/curriculum/assets/js/22.7b58d08d.js"><link rel="prefetch" href="/curriculum/assets/js/23.91d2b584.js"><link rel="prefetch" href="/curriculum/assets/js/24.4c608df4.js"><link rel="prefetch" href="/curriculum/assets/js/25.6494940f.js"><link rel="prefetch" href="/curriculum/assets/js/26.0b8da5eb.js"><link rel="prefetch" href="/curriculum/assets/js/27.7c4f8b3c.js"><link rel="prefetch" href="/curriculum/assets/js/28.1a700b9c.js"><link rel="prefetch" href="/curriculum/assets/js/29.593477ee.js"><link rel="prefetch" href="/curriculum/assets/js/3.d2d52895.js"><link rel="prefetch" href="/curriculum/assets/js/30.67045ac8.js"><link rel="prefetch" href="/curriculum/assets/js/31.16dc0db7.js"><link rel="prefetch" href="/curriculum/assets/js/32.2d673e2d.js"><link rel="prefetch" href="/curriculum/assets/js/33.bd2a7b4b.js"><link rel="prefetch" href="/curriculum/assets/js/34.ab1a52be.js"><link rel="prefetch" href="/curriculum/assets/js/35.0c150a2f.js"><link rel="prefetch" href="/curriculum/assets/js/36.c6385503.js"><link rel="prefetch" href="/curriculum/assets/js/37.4ed085e5.js"><link rel="prefetch" href="/curriculum/assets/js/38.1e5dcace.js"><link rel="prefetch" href="/curriculum/assets/js/39.56cc3f3b.js"><link rel="prefetch" href="/curriculum/assets/js/4.df2bbd5a.js"><link rel="prefetch" href="/curriculum/assets/js/40.486c2625.js"><link rel="prefetch" href="/curriculum/assets/js/41.3ad56d94.js"><link rel="prefetch" href="/curriculum/assets/js/42.85859696.js"><link rel="prefetch" href="/curriculum/assets/js/43.b768f2d9.js"><link rel="prefetch" href="/curriculum/assets/js/44.a4d0a50b.js"><link rel="prefetch" href="/curriculum/assets/js/45.2525e816.js"><link rel="prefetch" href="/curriculum/assets/js/46.2f55acba.js"><link rel="prefetch" href="/curriculum/assets/js/47.ee10c959.js"><link rel="prefetch" href="/curriculum/assets/js/48.88edca03.js"><link rel="prefetch" href="/curriculum/assets/js/49.7a5ead4d.js"><link rel="prefetch" href="/curriculum/assets/js/5.77acca49.js"><link rel="prefetch" href="/curriculum/assets/js/50.55827105.js"><link rel="prefetch" href="/curriculum/assets/js/51.98426f62.js"><link rel="prefetch" href="/curriculum/assets/js/52.4bf02870.js"><link rel="prefetch" href="/curriculum/assets/js/54.2da596f0.js"><link rel="prefetch" href="/curriculum/assets/js/55.f17dc5b8.js"><link rel="prefetch" href="/curriculum/assets/js/56.86aa06d9.js"><link rel="prefetch" href="/curriculum/assets/js/57.be0aa56c.js"><link rel="prefetch" href="/curriculum/assets/js/58.bd6af85c.js"><link rel="prefetch" href="/curriculum/assets/js/59.38e95dc8.js"><link rel="prefetch" href="/curriculum/assets/js/6.a4b2b61c.js"><link rel="prefetch" href="/curriculum/assets/js/60.7bf941a3.js"><link rel="prefetch" href="/curriculum/assets/js/61.6e8b4eca.js"><link rel="prefetch" href="/curriculum/assets/js/62.b7a4350b.js"><link rel="prefetch" href="/curriculum/assets/js/63.8b45e0ab.js"><link rel="prefetch" href="/curriculum/assets/js/64.eb6fb88e.js"><link rel="prefetch" href="/curriculum/assets/js/65.68dfc4a0.js"><link rel="prefetch" href="/curriculum/assets/js/66.3dc620d5.js"><link rel="prefetch" href="/curriculum/assets/js/67.87dcaf99.js"><link rel="prefetch" href="/curriculum/assets/js/68.d4b74534.js"><link rel="prefetch" href="/curriculum/assets/js/69.bb02b634.js"><link rel="prefetch" href="/curriculum/assets/js/7.da6345b3.js"><link rel="prefetch" href="/curriculum/assets/js/70.791c9a7a.js"><link rel="prefetch" href="/curriculum/assets/js/71.796a9e78.js"><link rel="prefetch" href="/curriculum/assets/js/72.868e3dbf.js"><link rel="prefetch" href="/curriculum/assets/js/73.38bfce19.js"><link rel="prefetch" href="/curriculum/assets/js/74.a892403a.js"><link rel="prefetch" href="/curriculum/assets/js/75.cbac1b03.js"><link rel="prefetch" href="/curriculum/assets/js/76.aaf5f098.js"><link rel="prefetch" href="/curriculum/assets/js/77.1abe0be2.js"><link rel="prefetch" href="/curriculum/assets/js/78.be989ff0.js"><link rel="prefetch" href="/curriculum/assets/js/79.f85cf793.js"><link rel="prefetch" href="/curriculum/assets/js/vendors~docsearch.6f140a46.js">
    <link rel="stylesheet" href="/curriculum/assets/css/0.styles.c2383ade.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/curriculum/de/" class="home-link router-link-active"><!----> <span class="site-name">Front-End Foxes Workshops</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/curriculum/workshops/react/" class="nav-link">
  React Workshops
</a></div><div class="nav-item"><a href="/curriculum/workshops/vue/" class="nav-link">
  Vue Workshops
</a></div><div class="nav-item"><a href="/curriculum/workshops/CODE_OF_CONDUCT.html" class="nav-link">
  Code of Conduct
</a></div><div class="nav-item"><a href="/curriculum/workshops/TEAM.html" class="nav-link">
  Team
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Sprache</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Sprache</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/curriculum/workshops/vue/full-day/ch4.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/curriculum/de/workshops/vue/full-day/ch4.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Deutsch
</a></li><li class="dropdown-item"><!----> <a href="/curriculum/fr/" class="nav-link">
  Fran√ßais
</a></li><li class="dropdown-item"><!----> <a href="/curriculum/jp/workshops/vue/full-day/ch4.html" class="nav-link">
  Êó•Êú¨Ë™û
</a></li></ul></div></div> <a href="https://github.com/frontendfoxes/curriculum/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/curriculum/workshops/react/" class="nav-link">
  React Workshops
</a></div><div class="nav-item"><a href="/curriculum/workshops/vue/" class="nav-link">
  Vue Workshops
</a></div><div class="nav-item"><a href="/curriculum/workshops/CODE_OF_CONDUCT.html" class="nav-link">
  Code of Conduct
</a></div><div class="nav-item"><a href="/curriculum/workshops/TEAM.html" class="nav-link">
  Team
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Sprache</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Sprache</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/curriculum/workshops/vue/full-day/ch4.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/curriculum/de/workshops/vue/full-day/ch4.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Deutsch
</a></li><li class="dropdown-item"><!----> <a href="/curriculum/fr/" class="nav-link">
  Fran√ßais
</a></li><li class="dropdown-item"><!----> <a href="/curriculum/jp/workshops/vue/full-day/ch4.html" class="nav-link">
  Êó•Êú¨Ë™û
</a></li></ul></div></div> <a href="https://github.com/frontendfoxes/curriculum/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>üê∂ Tagesworkshop</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/curriculum/de/workshops/vue/full-day/ch1.html" class="sidebar-link">üìã Kapitel 1: Die My Pet Shop Web App</a></li><li><a href="/curriculum/de/workshops/vue/full-day/ch2.html" class="sidebar-link">üìã Kapitel 2: Baue eine Haustier-Galerie</a></li><li><a href="/curriculum/de/workshops/vue/full-day/ch3.html" class="sidebar-link">üìã Kapitel 3: Anbindung einer API</a></li><li><a href="/curriculum/de/workshops/vue/full-day/ch4.html" aria-current="page" class="active sidebar-link">üìã Kapitel 4: Eine Merkliste erstellen</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/curriculum/de/workshops/vue/full-day/ch4.html#anleitung" class="sidebar-link">Anleitung</a></li><li class="sidebar-sub-header"><a href="/curriculum/de/workshops/vue/full-day/ch4.html#die-merkliste-bauen" class="sidebar-link">Die Merkliste bauen</a></li><li class="sidebar-sub-header"><a href="/curriculum/de/workshops/vue/full-day/ch4.html#den-zustand-der-liste-mit-vuex-verwalten" class="sidebar-link">Den Zustand der Liste mit Vuex verwalten</a></li><li class="sidebar-sub-header"><a href="/curriculum/de/workshops/vue/full-day/ch4.html#favoriten-hinzufugen" class="sidebar-link">Favoriten hinzuf√ºgen</a></li><li class="sidebar-sub-header"><a href="/curriculum/de/workshops/vue/full-day/ch4.html#ui-anpassungen" class="sidebar-link">UI Anpassungen</a></li><li class="sidebar-sub-header"><a href="/curriculum/de/workshops/vue/full-day/ch4.html#hunde-hinzufugen-und-entfernen" class="sidebar-link">Hunde hinzuf√ºgen und entfernen</a></li><li class="sidebar-sub-header"><a href="/curriculum/de/workshops/vue/full-day/ch4.html#die-ui-bauen" class="sidebar-link">Die UI bauen</a></li><li class="sidebar-sub-header"><a href="/curriculum/de/workshops/vue/full-day/ch4.html#die-logik-verbessern" class="sidebar-link">Die Logik verbessern</a></li><li class="sidebar-sub-header"><a href="/curriculum/de/workshops/vue/full-day/ch4.html#favoriten-von-der-liste-entfernen" class="sidebar-link">Favoriten von der Liste entfernen</a></li></ul></li><li><a href="/curriculum/de/workshops/vue/full-day/ch5.html" class="sidebar-link">üìã Kapitel 5: Ein Formular zum Adoptieren hinzuf√ºgen</a></li><li><a href="/curriculum/de/workshops/vue/full-day/appendix_1.html" class="sidebar-link">ü§∑ Anhang 1: Neuanfang?</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="üìã-kapitel-4-eine-merkliste-erstellen"><a href="#üìã-kapitel-4-eine-merkliste-erstellen" class="header-anchor">#</a> üìã Kapitel 4: Eine Merkliste erstellen</h1> <table><thead><tr><th><strong>Ziel</strong></th> <th>Programmiere eine Favoriten-Funktion, so dass du Hunde einer Merkliste hinzuf√ºgen oder entfernen kannst.</th></tr></thead> <tbody><tr><td><strong>Was du lernen wirst</strong></td> <td>Zustandsmanagement in einer Vue-Anwendung mit Vuex</td></tr> <tr><td><strong>Was du daf√ºr ben√∂tigst</strong></td> <td>Einen modernen Browser, z.B. Google Chrome. Ein Account bei CodeSandbox.io. Falls du nicht mehr wei√üt, wo du warst, kannst du die Basis f√ºr dieses Kapitel von <a href="https://github.com/FrontEndFoxes/projects/tree/main/chapter-3-end" target="_blank" rel="noopener noreferrer">hier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> importieren. Wie das geht, steht im <a href="/curriculum/de/workshops/vue/full-day/appendix_1.html">Anhang 1</a></td></tr> <tr><td><strong>Dauer</strong></td> <td>1 1/2 Stunden</td></tr></tbody></table> <h2 id="anleitung"><a href="#anleitung" class="header-anchor">#</a> Anleitung</h2> <p>Falls du das Projekt von vorn beginnen musst, klone <a href="https://github.com/FrontEndFoxes/projects/tree/main/chapter-1-end" target="_blank" rel="noopener noreferrer">dieses Projekt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in Code Sandbox, nachdem du dich eingeloggt hast. Daf√ºr klickst du auf den Link <strong>Import form Github</strong> unten links auf der Hauptseite und f√ºgst die URL des Repositories in das Feld. Du kannst ebenfalls mit dem Projekt fortfahren, dass du in <a href="/curriculum/de/workshops/vue/full-day/ch3.html">Kapitel 3</a> erstellt hast.</p> <p>In diesem Kapitel bauen wir eine Merkliste f√ºr Hunde, die wir m√∂gen und vielleicht adoptieren m√∂chten.
Zuerst ben√∂tigen wir eine neue, leere Datei im <code>views</code>-Ordner namens <code>Favorites.vue</code>.</p> <h2 id="die-merkliste-bauen"><a href="#die-merkliste-bauen" class="header-anchor">#</a> Die Merkliste bauen</h2> <p>F√ºr die neue Komponente brauchen wir zuerst ein Template. Schreibe den <code>&lt;template&gt;&lt;/template&gt;</code> in die neue Datei.
Schreibe in den <code>template</code>-Tag ein <code>&lt;div&gt;&lt;/div&gt;</code>-Tag und darin den Text 'My Favorites'.</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
		My Favorites
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Jetzt m√ºssen wir diese neue Komponente mit dem Router verkn√ºpfen.</p> <p>Gehe in die <code>main.js</code>-Datei und f√ºge einen weiteren Import nach <code>Home</code> und <code>Pets</code> hinzu:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Favorites <span class="token keyword">from</span> <span class="token string">'./views/Favorites'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>F√ºge danach die neue Route den <code>routes</code> hinzu:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/favorites&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Favorites <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Navigiere im Browser zu der <code>favorites</code>-Seite. (H√§nge dazu <code>/favorites</code> an die URL der Startseite.) Du solltest den Text 'My Favorites' zwischen dem Header und Footer sehen.</p> <p>Lass uns einen Link zu der Liste der Navigation hinzuf√ºgen. Sp√§ter zeigen wir dort noch die Anzahl der markierten Hunde an. Aber zun√§chst reicht ein einfaches Icon mit einem Link aus. Gehe dazu in die <code>App.vue</code>-Datei und kopiere folgenden Code in die <code>v-toolbar</code>-Komponente direkt nach dem schlie√üendem Tag der <code>v-toolbar-items</code>:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-spacer</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-spacer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/favorites<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-icon</span> <span class="token attr-name">large</span><span class="token punctuation">&gt;</span></span>loyalty<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-icon</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">üí°</p> <p><code>v-spacer</code> ist eine Vuetify-Komponente, die den freien Platz zwischen zwei anderen Komponenten ausf√ºllt. <code>v-icon</code> ist eine Komponente, mit der man <a href="https://material.io/icons/" target="_blank" rel="noopener noreferrer">Material icons<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> darstellen kann.</p></div> <p>Wenn du jetzt auf das Favoriten-Icon klickst, gelangst du zur <code>/favorites</code>-Seite.</p> <p>Jetzt erstellen wir das Template f√ºr die <code>Favorites</code>-Komponente. Daf√ºr nutzen wir die Listen-Komponente von Vuetify, um die markierten Hunde anzuzeigen. Anstelle des Platzhalter-Textes von vorhin schreiben wir jetzt den <code>&lt;v-list&gt;&lt;/v-list</code>-Tag. Das Template sollte jetzt so aussehen:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Die Liste braucht noch einen Namen. Daf√ºr k√∂nnen wir die <code>v-subheader</code>-Komponente von Vuetify nutzen:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-subheader</span><span class="token punctuation">&gt;</span></span>My Favorites<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-subheader</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Wir f√ºgen zun√§chst ein Testelement der Liste hinzu: Ein Bild von einem Hund, seinen Namen und ein L√∂schen-Button. Wir brauchen daf√ºr die <code>v-list-item</code>-Komponente f√ºr das Listenelement; <code>v-list-item-avatar</code> f√ºr das Bild; <code>v-list-item-content</code>f√ºr den Namen und <code>v-list-item-action</code> sowie <code>v-icon</code> f√ºr den L√∂schen-Button.</p> <div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Mehr Info zu Listen findest du in der <a href="https://vuetifyjs.com/en/components/lists" target="_blank" rel="noopener noreferrer">Vuetify list component-Dokumentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <p>So sieht das Template jetzt aus:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-subheader</span><span class="token punctuation">&gt;</span></span>My Favorites<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-subheader</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item-avatar</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://images.dog.ceo/breeds/husky/n02110185_7888.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item-avatar</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item-content</span><span class="token punctuation">&gt;</span></span>Fluffy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item-content</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item-action</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-icon</span><span class="token punctuation">&gt;</span></span>delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-icon</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item-action</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="den-zustand-der-liste-mit-vuex-verwalten"><a href="#den-zustand-der-liste-mit-vuex-verwalten" class="header-anchor">#</a> Den Zustand der Liste mit Vuex verwalten</h2> <p>Jetzt siehst du, wie das Template im Browser aussieht. Es ist Zeit, die Testdaten durch echte Daten zu ersetzen. Das Problem: Wie k√∂nnen wir ausgew√§hlte Hunde von der <code>Pets</code>-Komponente der unabh√§ngigen <code>Favorites</code>-Komponente √ºbergeben? Wir k√∂nnen keine props nutzen, da die beiden Komponenten keine Eltern-Kind-Beziehung haben... f√ºr solche F√§lle brauchen wir <em>Zustandsmanagement</em>. Die Bibliothek daf√ºr hei√üt in Vue: <code>Vuex</code>.</p> <div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Vuex ist eine Bibliothek, um Zustandsmanagement in einer Vue.js-Anwendung zu erm√∂glichen. Es dient als zentraler Speicher f√ºr alle Komponenten einer Anwendung und beinhaltet verschiedene Regeln, um den Zustand des Speichers nur √ºber bestimmte Funktionen zu ver√§ndern. Es erlaubt dir, Daten zu verwalten, die zwischen den Komponenten deiner Applikation geteilt werden k√∂nnen. Mehr √ºber Vues kannst du <a href="http://vuex.vuejs.org/en/" target="_blank" rel="noopener noreferrer">hier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> nachlesen.</p></div> <p>Um diesen zentralen Speicher zu nutzen, m√ºssen wir zun√§chst Vuex als Abh√§ngigkeit hinzuf√ºgen. Daf√ºr klicke in Code Sandbox auf den Reiter <code>Explorer</code> -&gt; <code>Dependencies</code> -&gt; <code>Add Dependency</code> und suche nach <code>vuex</code>. Wenn du es installiert hast, wirst du sehen, dass es zu deiner <code>package.json</code> hinzugef√ºgt wurde.</p> <p>Erstelle jetzt einen <code>store</code>-Ordner in dem <code>src</code>-Ordner. Erstelle eine neue Datei namens <code>store.js</code> in diesem neuen Ordner. Hier werden alle Daten der Anwendung gespeichert.</p> <p>√ñffne die <code>store.js</code> und importiere Vuex:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Jetzt erzeugen wir den Speicher:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Was wollen wir eigentlich in diesem Speicher sichern? Eine Liste von Favoriten, in der die markierten Hunde stehen. Dazu f√ºgen wir eine <code>favorites</code>-Liste in das initiale Zustandsobjekt. F√ºge dieses zwischen die geschweiften Klammern ein:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">favorites</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Jetzt m√ºssen wir den Speicher unserer Vue-Instanz hinzuf√ºgen. √ñffne die <code>main.js</code>-Datei und importiere den Speicher unter den anderen Imports:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store/store'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>F√ºge den <code>store</code> dann den Properties der Vue-Instanz in <code>main.js</code> hinzu:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	router<span class="token punctuation">,</span>
	store<span class="token punctuation">,</span>
	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Jetzt haben alle Komponenten der Anwendung Zugriff auf den Speicher in einer &quot;berechneten Eigenschaft&quot; (=computed property) √ºber <code>this.$store.state</code>. Greifen wir darauf mal in der <code>Favorites</code>-Komponente zu:</p> <div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Eine &quot;berechnete Eigenschaft&quot; kann genutzt werden, um schnelle Berechnungen von verschiedenen Eigenschaften durchzuf√ºhren, die im Template angezeigt werden. Diese Berechnungen werden gecached (=zwischengespeichert) und nur aktualisiert, wenn sich eine ihrer Abh√§ngigkeiten ver√§ndert.</p></div> <p>Schreibe den <code>&lt;script&gt;</code> Block mit der <code>export default</code>-Anweisung in die <code>Favorites.vue</code> unterhalb des <code>&lt;template&gt;</code> Blocks:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>... und dann die <code>computed property</code> in den export:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function">favorites</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>favorites<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Du siehst, dass <code>favorites()</code> eine Funktion ist, die uns den Wert der <code>favorites</code>-Liste aus dem Speicher liefert. Das k√∂nnen wir jetzt in der Komponente benutzen.</p> <h2 id="favoriten-hinzufugen"><a href="#favoriten-hinzufugen" class="header-anchor">#</a> Favoriten hinzuf√ºgen</h2> <p>Wir ersetzen unsere Testdaten mit dem Inhalt der <code>favorites</code>-Komponente:</p> <p>Zuerst schreiben wir ein paar Testdaten in den Speicher (wir k√ºmmern uns sp√§ter darum, dass dort echte Daten abgelegt werden). Kopiere die ersten drei Hunde aus der <code>data/dogs.js</code>-Datei in die <code>favorites</code>-Liste in <code>store.js</code>:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">favorites</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Max&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">breed</span><span class="token operator">:</span> <span class="token string">&quot;husky&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">img</span><span class="token operator">:</span> <span class="token string">&quot;https://images.dog.ceo/breeds/husky/n02110185_1469.jpg&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Rusty&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">breed</span><span class="token operator">:</span> <span class="token string">&quot;shiba&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">img</span><span class="token operator">:</span> <span class="token string">&quot;https://images.dog.ceo/breeds/shiba/shiba-13.jpg&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Rocco&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">breed</span><span class="token operator">:</span> <span class="token string">&quot;boxer&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">img</span><span class="token operator">:</span> <span class="token string">&quot;https://images.dog.ceo/breeds/boxer/n02108089_14112.jpg&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>In der <code>Favorites.vue</code>-Komponente iterieren wir √ºber die <code>favorites</code>-Liste aus dem Speicher mit der schon bekannten <code>v-for</code>-Direktive. √Ñndere das <code>&lt;div&gt;</code> des <code>&lt;template&gt;</code> Blocks zu folgendem Markup:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-subheader</span><span class="token punctuation">&gt;</span></span>My Favorites<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-subheader</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(dog, index) in favorites<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item-avatar</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dog.img<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item-avatar</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item-content</span><span class="token punctuation">&gt;</span></span>{{dog.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item-content</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item-action</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-icon</span><span class="token punctuation">&gt;</span></span>delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-icon</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item-action</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Was hat sich ver√§ndert? Das <code>src</code>-Attribut nutzt jetzt die Kurzschreibweise f√ºr die <code>v-bind</code>-Direktive. <code>:src</code>, da der Wert nun dynamisch gesetzt wird und nicht mehr statisch ist. Wir haben ebenfalls sicher gestellt, dass der Name sich dynamisch zu <code>Fluffy</code> √§ndertn, in dem wir <code>dog.name</code> in je zwei geschweifte Klammern setzten.</p></div> <div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Au√üerdem haben wir das Attribut <code>:key</code> direkt zu unserem Attribut <code>v-for</code> in das Tag <code>v-list-item</code> hinzugef√ºgt. Wir haben dies deshalb getan, weil Vue von uns erwartet, dass wir einen Schl√ºsselwert benutzen, wenn wir das Attribut <code>v-for</code> einsetzen. Indem wir <code>(dog, index) in favorites</code> (die runden Klammern sind wichtig) in unser Attribut <code>v-for</code> setzten, bekommen wir als zweiten Parameter zus√§tzlich den jeweiligen Index der Liste pro Hund. Zum Beispiel erhalten wir f√ºr Max den Index 0, f√ºr Rusty den Index 1 und so weiter. Wir k√∂nnen diesen Index als Schl√ºsselwert (<code>key</code>) benutzen. Mehr Informationen findest du <a href="https://vuejs.org/guide/list.html#Maintaining-State" target="_blank" rel="noopener noreferrer">hier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <p>Jetzt sehen wir unsere Testdaten aus dem Speicher auf der <code>favorites</code>-Seite. Wir passen die Ansicht (=UI) jetzt noch etwas an, damit die Seite h√ºbscher aussieht.</p> <h2 id="ui-anpassungen"><a href="#ui-anpassungen" class="header-anchor">#</a> UI Anpassungen</h2> <p>Zuerst ben√∂tigen wir einen Platzhalter, wenn die Liste leer ist.</p> <div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Die <code>v-if</code>-Direktive zeigt ein Element an, wenn ihre Bedingung wahr ist. Die <code>v-else</code>-Direktive dient als Alternative, wenn die Bedingung in <code>v-if</code> falsch ist.</p></div> <p>Wir werden die gesamte Liste in ein umfassendes <code>div</code> schreiben und nur anzeigen, wenn in der Liste Elemente sind. Ansonsten sieht der Nutzer einen Platzhalter Text. So m√ºssen wir das Template daf√ºr √§ndern:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-subheader</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!favorites.length<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Your favorites list is empty<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-subheader</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-subheader</span><span class="token punctuation">&gt;</span></span>Your favorites<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-subheader</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(dog, index) in favorites<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item-avatar</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dog.img<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item-avatar</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item-content</span><span class="token punctuation">&gt;</span></span>{{dog.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item-content</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-list-item-action</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-icon</span><span class="token punctuation">&gt;</span></span>delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-icon</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item-action</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list-item</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-list</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Was passiert hier? Zuerst √ºberpr√ºft die Anwendung, ob die <code>favorites</code>-Liste Elemente beinhaltet. Dazu wird das L√§ngen-Attribut (=length) genutzt. Eine leere Liste hat die L√§nge 0. Wenn die L√§nge 0 ist, zeigt die Anwendung den Platzhaltertext an und ignoriert den Teil mit der <code>v-else</code>-Direktive. Sofern die Liste aber nicht leer ist, d.h. ihre L√§nge gr√∂√üer als 0, zeigt die Anwendung stattdessen den Teil mit der <code>v-else</code>-Direktive an; das ist unsere Liste.</p></div> <p>Wir wollen auch die Anzahl der markierten Hunde am Favoriten-Icon in der Navigation anzeigen. Gehe dazu in die <code>App.vue</code> und f√ºge eine <code>computed property</code> f√ºr <code>favorites</code> hinzu, so wie schon in der <code>Favorites.vue</code>-Komponente. Du kannst diese unter die <code>name</code>-Eigenschaft kopieren:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">favorites</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>favorites<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Das Favoriten-Icon wird jetzt innerhalb der <code>v-badge</code>-Komponente von Vuetify geschrieben und zeigt die Anzahl der Elemente an. Bearbeite den <code>&lt;router-link&gt;</code> Abschnitt im <code>&lt;template&gt;</code> Block in der <code>App.vue</code> so, dass der <code>favorites</code>-Teil am Ende folgenderma√üen aussieht:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/favorites<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-badge</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>grey lighten-1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">overlap</span> <span class="token attr-name">right</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>favorites.length<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#badge</span><span class="token punctuation">&gt;</span></span>
			{{favorites.length}}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-icon</span> <span class="token attr-name">large</span><span class="token punctuation">&gt;</span></span>loyalty<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-icon</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-badge</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Die <code>v-model</code>-Direktive bestimmt an dieser Stelle, ob die Zahl angezeigt wird. Wenn die Liste leer ist, versteckt die Anwendung das Badge. Da wir aktuell drei Elemente in unseren Testdaten im Speicher haben, wird die Nummer <code>3</code> angezeigt. Dieses Verhalten ist durch die offizielle Vuetify Badge Komponente definiert, die Dokumentation l√§sst sich <a href="https://vuetifyjs.com/en/components/badges" target="_blank" rel="noopener noreferrer">hier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> nachlesen.</p></div> <h2 id="hunde-hinzufugen-und-entfernen"><a href="#hunde-hinzufugen-und-entfernen" class="header-anchor">#</a> Hunde hinzuf√ºgen und entfernen</h2> <p>Wir brauchen einen Weg, um Hunde zu markieren und der Favoriten-Liste hinzuzuf√ºgen und (leider) auch wieder zu entfernen. Das bedeutet: Wir m√ºssen <em>den Zustand im Speicher ver√§ndern</em>. Den Zustand im Speicher kann man mit Hilfe einer sogenannten Mutation (=mutation) ver√§ndern. Vuex Mutationen sind √§hnlich zu Ereignissen (=events): Jede Mutation hat eine Beschreibung (=type) und eine Funktion (=handler). Die Beschreibung ist eine Bezeichnung daf√ºr, was die Mutation ver√§ndern wird. Den Namen k√∂nnen wir selber w√§hlen. Da wir mit der Mutation Hunde zu unseren Favoriten hinzuf√ºgen m√∂chten, nennen wir sie <code>addToFavorites</code>. In der Handler-Funktion wird der Zustand ver√§ndert. Sie erh√§lt als ersten Parameter den Zustand (=state). Erstellen wir unsere erste Mutation. L√∂sche die Testdaten aus der <code>favorites</code>-Liste in <code>store.js</code>. F√ºge nach dem <code>state</code> das <code>mutations</code>-Objekt ein:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">favorites</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>In dieses Objekt schreiben wir die <code>addToFavorites</code>-Mutation:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">favorites</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">addToFavorites</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			state<span class="token punctuation">.</span>favorites<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Diese Mutation hat zwei Parameter: zuerst den State und als zweites die Daten (=data order payload), die zu unserem <code>state.favorites</code> hinzugef√ºgt werden. Die <code>addFavorites</code>-Mutation nimmt das Element aus dem <code>payload</code> und f√ºgt es der <code>state.favorites</code>-Liste hinzu.</p> <div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Es ist nicht m√∂glich eine Mutation direkt aufzurufen. Um eine Mutation auszuf√ºhren, musst du <code>store.commit</code> mit dem Namen der Mutation aufrufen: <code>store.commit('addToFavorites')</code> und du wirst sehen, dass die zum Payload hinzugef√ºgt wurden.</p></div> <div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Normalerweise werden Mutationen √ºber <em>actions</em> ausgef√ºhrt. Aktionen sind √§hnlich zu Mutationen, allerdings k√∂nnen sie asynchrone Funktionen, wie z.B. einen API-Aufruf, enthalten.</p></div> <p>Wir registeren jetzt die Aktion, um die <code>addToFavorites</code>-Mutation ausf√ºhren zu k√∂nnen. F√ºge die <code>actions</code>-Eigenschaft dem <code>store</code>-Objekt hinzu und in diese <code>actions</code> dann die <code>addToFavorites</code>-Aktion:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">favorites</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">addToFavorites</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			state<span class="token punctuation">.</span>favorites<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">addToFavorites</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'addToFavorites'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Aktions-Funktionen erhalten ein Kontext-Objekt, welches die gleichen Methoden und Eigenschaften hat, wie der Store selbst. Du kannst <code>context.commit</code> aufrufen, um eine Mutation auszuf√ºhren. Wir nutzen hier ES6 <a href="https://github.com/lukehoban/es6features#destructuring" target="_blank" rel="noopener noreferrer">argument destructuring<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, um die <code>commit</code>-Methode auf dem <code>content</code> auszuf√ºhren. Deshalb haben wir nicht <code>context</code> sondern <code>{ commit }</code> als erstes Argument. W√ºrden die <code>context</code> als erstes Argument setzen, m√ºssen wir stattdessen <code>context.commit(...)</code> aufrufen, um den gleichen Effekt zu erzeugen, wie wir stattdessen mit <code>commit(...)</code> erreichen.</p></div> <div class="custom-block tip"><p class="custom-block-title">üí°</p> <p><code>payload</code> enth√§lt hier die gleichen Daten, die wir von der Komponente an die Mutation √ºbergeben wollen, um den <code>state</code> zu √§ndern.</p></div> <h2 id="die-ui-bauen"><a href="#die-ui-bauen" class="header-anchor">#</a> Die UI bauen</h2> <p>Wir rufen jetzt die neue Aktion aus der <code>Pets.vue</code>-Komponente heraus auf. Zuerst brauchen wir einen Button, um einen Hund der Favoriten-Liste hinzuzuf√ºgen. Gehe in die <code>Dog.vue</code>-Komponente und f√ºge den Button unter <code>v-card-title</code>, allerdings innerhalb des Tags <code>v-card</code>, ein:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-btn</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$emit('addToFavorites', dog)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Add to Favorites<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-btn</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Mit <code>$emit</code> senden wir ein Signal an die Eltern-Komponente (hier <code>Pets.vue</code>), um zu signalisieren, dass etwas in ihrer Kind-Komponente passiert und die Eltern-Komponente mit der Nachricht etwas tun soll.</p> <p>Unsere Nachricht enth√§lt einen zweiten Parameter: Es ist der Hund, den wir der Favoriten-Liste hinzuf√ºgen wollen.</p> <div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Indem wir also <code>$emit('addToFavorites', dog)</code> aufrufen, senden wir das Ereignis (<code>event</code>) mit der Beschreibung (<code>type</code>) <code>addToFavorites</code> zusammen mit den Daten des Hundes, die der Nutzer zu seinen Favoriten hinzuf√ºgen m√∂chte. Wir haben dementsprechend ein sog. <code>Custom Event</code> erzeugt, wie du <a href="https://vuejs.org/v2/guide/components-custom-events.html" target="_blank" rel="noopener noreferrer">hier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> nachlesen.</p></div> <p>In der <code>Pets.vue</code> f√ºgen wir einen <em>listener</em> (=Zuh√∂rer) ein, der auf das Signal der Kind-Komponente wartet. √úberschreibe den aktuellen <code>&lt;app-dog&gt;</code>-Tag mit folgendem Code:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-dog</span> <span class="token attr-name">:dog</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@addToFavorites</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-dog</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Bisher macht dieser Listener noch nichts. Aber wir wollen f√ºr dieses Event eine Aktion ausf√ºhren. Daf√ºr m√ºssen wir die Aktionen mit unserer Komponente verbinden.</p> <div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Du kannst Aktionen aus Komponenten heraus ansto√üen indem du <code>this.$store.dispatch('xxx')</code> aufrufst oder die <code>mapActions</code>-Hilfsfunktion nutzt. Diese verkn√ºpft eine gleichnamige Methode in der Komponente mit den <code>store.dispatch</code>-Aufrufen.</p></div> <p>Wir werden den zweiten Weg nutzen. Importiere zuerst die <code>mapActions</code> in <code>Pets.vue</code>:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapActions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Erstelle dann einen <code>methods</code>-Block in der Komponente und f√ºge dort die <code>mapActions</code> hinzu. (Dazu nutzen wir den <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank" rel="noopener noreferrer">ES6 spread operator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.)</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;addToFavorites&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Indem wir <code>mapActions</code> mit einem Parameter aufrufen, definieren wirr, welche Aktionen von unserem Store geholt werden. Bisher haben wir in dieser Liste nur <code>addToFavorites</code>, in der Zukunft k√∂nnte diese Liste allerdings wachen. Du brauchst nicht immer alle Aktionen von deinem Store in einer einzelnen Komponente. Deswegen benennen wir alle, die wir brauchen, in der Liste von <code>mapActions</code>. Mehr Informationen findest du <a href="https://vuex.vuejs.org/guide/actions.html#dispatching-actions-in-components" target="_blank" rel="noopener noreferrer">hier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <p>Diese Methode rufen wir jetzt auf, wenn das <code>addToFavorites</code>-Signal von <code>app-dog</code> gesendet wird. Bearbeite den <code>&lt;app-dog&gt;</code>-Tag in <code>Pets.vue</code>:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-dog</span> <span class="token attr-name">:dog</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@addToFavorites</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addToFavorites<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-dog</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Klicke nun auf die <code>Add to Favorites</code>-Buttons. Du kannst sehen, dass die Zahl in dem Badge sich erh√∂ht. √ñffne die Favoritenliste, in dem du auf ihr Icon klickst, und schau dir die Hunde in der Liste an.</p> <h2 id="die-logik-verbessern"><a href="#die-logik-verbessern" class="header-anchor">#</a> Die Logik verbessern</h2> <p>Bisher k√∂nnen wir jeden Hund mehrmals auf die Liste setzen. Aber wir haben ja gar nicht f√ºnf Maxs! Um das zu verbessern, √ºberpr√ºfen wir erst den Payload in der Mutation in <code>store.js</code> bevor wir den Hund der Liste hinzuf√ºgen. Der Hund wird nur hinzugef√ºgt, wenn er nicht bereits in der Liste ist:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">addToFavorites</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>state<span class="token punctuation">.</span>favorites<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>favorites<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Wir √ºberpr√ºfen erst, ob das Element in <code>payload</code> in den <code>state.favorites</code> enthalten ist und f√ºgen das Element nur hinzu, wenn das nicht der Fall ist.</p> <h2 id="favoriten-von-der-liste-entfernen"><a href="#favoriten-von-der-liste-entfernen" class="header-anchor">#</a> Favoriten von der Liste entfernen</h2> <p>Jetzt brauchen wir noch eine M√∂glichkeit Hunde wieder von der Liste zu entfernen. Dazu erstellen wir eine passende Aktion und Mutation.</p> <p>F√ºge die <code>removeFromFavorites</code>-Mutation dem <code>mutations</code>-Objekt in der <code>store.js</code>-Datei hinzu:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">removeFromFavorites</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>favorites<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>favorites<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">üí°</p> <p>Die <code>splice()</code>-Methode ver√§ndert den Inhalt einer Liste, in dem sie ein bestehendes Element entfernt. Das erste Argument ist der Index des Elements, von dem an entfernt werden soll und das zweite Argument ist die Anzahl der Elemente, die entfernt werden sollen.</p></div> <p>Zuerst finden wir den Index des <code>payload</code>-Elements in der <code>store.favorites</code>-Liste heraus. Dann entfernen wir ab diesem Index genau ein Element, das entfernt nur das Element aus dem Payload.</p> <p>F√ºge die Aktion hinzu, um die <code>removeToFavorites</code>-Mutation aufzurufen:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">removeFromFavorites</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;removeFromFavorites&quot;</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Jetzt m√ºssen wir diese Aktion aufrufen, wenn jemand auf den L√∂schen-Button klickt. √ñffne die <code>Favorites.vue</code>-Datei. Zuerst m√ºssen wir die Aktionen mit Methoden verkn√ºpfen. Importiere wie zuvor auch die <code>mapActions</code> am Anfang des <code>&lt;script&gt;</code>-Tags:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapActions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>und f√ºge die <code>methods</code> unter den <code>computed</code>-Block ein:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;removeFromFavorites&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Und zum Schluss noch der Klick-Listener am L√∂schen-Icon:</p> <script>
    function copyText(event, node) {
      // So we don't go anywhere
      event.preventDefault();

      const toCopy = node.parentElement.nextElementSibling.querySelector('code');
      const el = document.createElement('textarea');
      el.value = toCopy.innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }
  </script> <div style="display:flex;justify-content:flex-end;"><a href="#" onclick="copyText(event, this)">
      Copy
    </a></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-icon</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>removeFromFavorites(dog)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-icon</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Jetzt kannst du Hunde der Liste hinzuf√ºgen oder entfernen!</p> <p><strong>Whew! Kapitel 4 ist abgeschlossen!</strong></p> <h1 id="ergebnis"><a href="#ergebnis" class="header-anchor">#</a> Ergebnis</h1> <p><img src="/curriculum/assets/img/petshop_chapter4.b12bfb9d.jpg" alt="chapter 4 final"></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/frontendfoxes/curriculum/edit/master/de/workshops/vue/full-day/ch4.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/curriculum/de/workshops/vue/full-day/ch3.html" class="prev">
        üìã Kapitel 3: Anbindung einer API
      </a></span> <span class="next"><a href="/curriculum/de/workshops/vue/full-day/ch5.html">
        üìã Kapitel 5: Ein Formular zum Adoptieren hinzuf√ºgen
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/curriculum/assets/js/app.56bf5687.js" defer></script><script src="/curriculum/assets/js/2.31700463.js" defer></script><script src="/curriculum/assets/js/1.e58b189b.js" defer></script><script src="/curriculum/assets/js/53.71730416.js" defer></script>
  </body>
</html>
